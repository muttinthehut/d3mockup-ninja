{"ts":1365014068395,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<!DOCTYPE html>\n<meta charset=\"utf-8\">\n<style>\n\n.node circle {\n  fill: #fff;\n  stroke: steelblue;\n  stroke-width: 1.5px;\n}\n\n.node {\n  font: 10px sans-serif;\n}\n\n.link {\n  fill: none;\n  stroke: #ccc;\n  stroke-width: 1.5px;\n}\n\n</style>\n<body>\n<script src=\"./d3.v3/d3.v3.min.js\"></script>\n<script>\n\nvar width = 960,\n    height = 1000;\n\nvar cluster = d3.layout.cluster()\n    .size([height, width - 160]);\n\nvar diagonal = d3.svg.diagonal()\n    .projection(function(d) { return [d.y, d.x]; });\n\nvar svg = d3.select(\"body\").append(\"svg\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n  .append(\"g\")\n    .attr(\"transform\", \"translate(40,0)\");\n\nd3.json(\"./data/vehicles.json\", function(error, root) {\n  var nodes = cluster.nodes(root),\n      links = cluster.links(nodes);\n\n  var link = svg.selectAll(\".link\")\n      .data(links)\n    .enter().append(\"path\")\n      .attr(\"class\", \"link\")\n      .attr(\"d\", diagonal);\n\n  var node = svg.selectAll(\".node\")\n      .data(nodes)\n    .enter().append(\"g\")\n      .attr(\"class\", \"node\")\n      .attr(\"transform\", function(d) { return \"translate(\" + d.y + \",\" + d.x + \")\"; })\n\n  node.append(\"circle\")\n      .attr(\"r\", 4.5);\n\n  node.append(\"text\")\n      .attr(\"dx\", function(d) { return d.children ? -8 : 8; })\n      .attr(\"dy\", 3)\n      .style(\"text-anchor\", function(d) { return d.children ? \"end\" : \"start\"; })\n      .text(function(d) { return d.name; });\n});\n\nd3.select(self.frameElement).style(\"height\", height + \"px\");\n\n</script>"]],"start1":0,"start2":0,"length1":0,"length2":1466}]],"length":1466}
{"contributors":[],"silentsave":false,"ts":1365014126714,"patch":[[{"diffs":[[1,"\r\n"],[0,"<!DOCTYP"]],"start1":0,"start2":0,"length1":8,"length2":10},{"diffs":[[0,"tml>"],[1,"\r"],[0,"\n<"],[-1,"meta "],[1,"html>\r\n  <head>\r\n    <meta http-equiv=\"Content-Type\" content=\"text/html;"],[0,"charset="],[-1,"\""],[0,"utf-8\""],[-1,">\n<style>\n\n.node circle {"],[1,"/>\r\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"style.css\"/>\r\n    <script type=\"text/javascript\" src=\"d3/d3.js\"></script>\r\n    <script type=\"text/javascript\" src=\"d3/d3.layout.js\"></script>\r\n    <style type=\"text/css\">\r\n\r\n\r\n.node circle {\r\n  cursor: pointer;\r"],[0,"\n  f"]],"start1":13,"start2":13,"length1":55,"length2":361},{"diffs":[[0,"l: #fff;"],[1,"\r"],[0,"\n  strok"]],"start1":376,"start2":376,"length1":16,"length2":17},{"diffs":[[0,"eelblue;"],[1,"\r"],[0,"\n  strok"]],"start1":398,"start2":398,"length1":16,"length2":17},{"diffs":[[0,"5px;"],[1,"\r"],[0,"\n}"],[-1,"\n"],[1,"\r\n\r"],[0,"\n.node "],[-1,"{"],[1,"text {\r"],[0,"\n  font"],[1,"-size"],[0,": 1"],[-1,"0px sans-serif;\n}\n\n"],[1,"1px;\r\n}\r\n\r\npath"],[0,".link {"],[1,"\r"],[0,"\n  f"]],"start1":426,"start2":426,"length1":55,"length2":66},{"diffs":[[0,"l: none;"],[1,"\r"],[0,"\n  strok"]],"start1":494,"start2":494,"length1":16,"length2":17},{"diffs":[[0,"e: #ccc;"],[1,"\r"],[0,"\n  strok"]],"start1":511,"start2":511,"length1":16,"length2":17},{"diffs":[[0,"5px;"],[1,"\r"],[0,"\n}"],[-1,"\n\n</style>\n<body>\n<script src=\"./d3.v3/d3.v3.min.js\"></script>\n<script>\n\nvar width = 960,"],[1,"\r\n\r\n    </style>\r\n  </head>\r\n  <body>\r\n    <div id=\"body\">\r\n      <div id=\"footer\">\r\n        d3.layout.tree\r\n        <div class=\"hint\">click or option-click to expand or collapse</div>\r\n      </div>\r\n    </div>\r\n    <script type=\"text/javascript\">\r\n\r\nvar m = [20, 120, 20, 120],\r\n    w = 1280 - m[1] - m[3],\r"],[0,"\n    h"],[-1,"eight"],[0," = "],[-1,"1000;\n\nvar cluster"],[1,"800 - m[0] - m[2],\r\n    i = 0,\r\n    root;\r\n\r\nvar tree"],[0," = d"]],"start1":539,"start2":539,"length1":131,"length2":381},{"diffs":[[0,"out."],[-1,"cluster"],[1,"tree"],[0,"()"],[1,"\r"],[0,"\n   "]],"start1":925,"start2":925,"length1":17,"length2":15},{"diffs":[[0,"e([h"],[-1,"eight, width - 160]);\n"],[1,", w]);\r\n\r"],[0,"\nvar"]],"start1":945,"start2":945,"length1":30,"length2":17},{"diffs":[[0,"agonal()"],[1,"\r"],[0,"\n    .pr"]],"start1":983,"start2":983,"length1":16,"length2":17},{"diffs":[[0," });"],[-1,"\n"],[1,"\r\n\r"],[0,"\nvar "],[-1,"svg"],[1,"vis"],[0," = d"]],"start1":1041,"start2":1041,"length1":17,"length2":19},{"diffs":[[0,"select(\""],[1,"#"],[0,"body\").a"]],"start1":1062,"start2":1062,"length1":16,"length2":17},{"diffs":[[0,"end(\"svg"],[1,":svg"],[0,"\")"],[1,"\r"],[0,"\n    .at"]],"start1":1081,"start2":1081,"length1":18,"length2":23},{"diffs":[[0,"\", w"],[-1,"idth)"],[1," + m[1] + m[3])\r"],[0,"\n   "]],"start1":1113,"start2":1113,"length1":13,"length2":24},{"diffs":[[0,"\", h"],[-1,"eight)"],[1," + m[0] + m[2])\r"],[0,"\n  ."]],"start1":1151,"start2":1151,"length1":14,"length2":24},{"diffs":[[0,"\n  .append(\""],[1,"svg:"],[0,"g\")"],[1,"\r"],[0,"\n    .attr(\""]],"start1":1171,"start2":1171,"length1":27,"length2":32},{"diffs":[[0,"ate("],[-1,"40,0"],[1,"\" + m[3] + \",\" + m[0] + \""],[0,")\");"],[-1,"\n"],[1,"\r\n\r"],[0,"\nd3."]],"start1":1222,"start2":1222,"length1":17,"length2":40},{"diffs":[[0,"on(\""],[-1,"./data/vehicles"],[1,"flare"],[0,".jso"]],"start1":1264,"start2":1264,"length1":23,"length2":13},{"diffs":[[0,"ion("],[-1,"error, root) {\n  var nodes = cluster.nodes(root),\n      links = cluster.links(nodes);\n\n  var link = svg.selectAll(\".link\")\n      .data(links)\n    .enter().append(\"path\")\n      .attr(\"class\", \"link\")\n      .attr(\"d\", diagonal);\n\n  var node = svg.selectAll(\".node\")\n      .data(nodes)\n    .enter().append(\"g\")\n      .attr(\"class\", \"node\")\n      .attr(\"transform\", function(d) { return \"translate(\" + d.y + \",\" + d.x + \")\"; })\n\n  node.append(\"circle\")\n      .attr(\"r\", 4.5);\n\n  node.append(\"text\")\n      .attr(\"dx\", function(d) { return d.children ? -8 : 8; })\n      .attr(\"dy\", 3)\n      .style(\"text-anchor\", function(d) { return d.children ? \"end\" : \"start\"; })\n      .text(function(d) { return d.name; });\n});\n\nd3.select(self.frameElement).style(\"height\", height + \"px\");\n\n</script>"],[1,"json) {\r\n  root = json;\r\n  root.x0 = h / 2;\r\n  root.y0 = 0;\r\n\r\n  function toggleAll(d) {\r\n    if (d.children) {\r\n      d.children.forEach(toggleAll);\r\n      toggle(d);\r\n    }\r\n  }\r\n\r\n  // Initialize the display to show a few nodes.\r\n  root.children.forEach(toggleAll);\r\n  toggle(root.children[1]);\r\n  toggle(root.children[1].children[2]);\r\n  toggle(root.children[9]);\r\n  toggle(root.children[9].children[0]);\r\n\r\n  update(root);\r\n});\r\n\r\nfunction update(source) {\r\n  var duration = d3.event && d3.event.altKey ? 5000 : 500;\r\n\r\n  // Compute the new tree layout.\r\n  var nodes = tree.nodes(root).reverse();\r\n\r\n  // Normalize for fixed-depth.\r\n  nodes.forEach(function(d) { d.y = d.depth * 180; });\r\n\r\n  // Update the nodes…\r\n  var node = vis.selectAll(\"g.node\")\r\n      .data(nodes, function(d) { return d.id || (d.id = ++i); });\r\n\r\n  // Enter any new nodes at the parent's previous position.\r\n  var nodeEnter = node.enter().append(\"svg:g\")\r\n      .attr(\"class\", \"node\")\r\n      .attr(\"transform\", function(d) { return \"translate(\" + source.y0 + \",\" + source.x0 + \")\"; })\r\n      .on(\"click\", function(d) { toggle(d); update(d); });\r\n\r\n  nodeEnter.append(\"svg:circle\")\r\n      .attr(\"r\", 1e-6)\r\n      .style(\"fill\", function(d) { return d._children ? \"lightsteelblue\" : \"#fff\"; });\r\n\r\n  nodeEnter.append(\"svg:text\")\r\n      .attr(\"x\", function(d) { return d.children || d._children ? -10 : 10; })\r\n      .attr(\"dy\", \".35em\")\r\n      .attr(\"text-anchor\", function(d) { return d.children || d._children ? \"end\" : \"start\"; })\r\n      .text(function(d) { return d.name; })\r\n      .style(\"fill-opacity\", 1e-6);\r\n\r\n  // Transition nodes to their new position.\r\n  var nodeUpdate = node.transition()\r\n      .duration(duration)\r\n      .attr(\"transform\", function(d) { return \"translate(\" + d.y + \",\" + d.x + \")\"; });\r\n\r\n  nodeUpdate.select(\"circle\")\r\n      .attr(\"r\", 4.5)\r\n      .style(\"fill\", function(d) { return d._children ? \"lightsteelblue\" : \"#fff\"; });\r\n\r\n  nodeUpdate.select(\"text\")\r\n      .style(\"fill-opacity\", 1);\r\n\r\n  // Transition exiting nodes to the parent's new position.\r\n  var nodeExit = node.exit().transition()\r\n      .duration(duration)\r\n      .attr(\"transform\", function(d) { return \"translate(\" + source.y + \",\" + source.x + \")\"; })\r\n      .remove();\r\n\r\n  nodeExit.select(\"circle\")\r\n      .attr(\"r\", 1e-6);\r\n\r\n  nodeExit.select(\"text\")\r\n      .style(\"fill-opacity\", 1e-6);\r\n\r\n  // Update the links…\r\n  var link = vis.selectAll(\"path.link\")\r\n      .data(tree.links(nodes), function(d) { return d.target.id; });\r\n\r\n  // Enter any new links at the parent's previous position.\r\n  link.enter().insert(\"svg:path\", \"g\")\r\n      .attr(\"class\", \"link\")\r\n      .attr(\"d\", function(d) {\r\n        var o = {x: source.x0, y: source.y0};\r\n        return diagonal({source: o, target: o});\r\n      })\r\n    .transition()\r\n      .duration(duration)\r\n      .attr(\"d\", diagonal);\r\n\r\n  // Transition links to their new position.\r\n  link.transition()\r\n      .duration(duration)\r\n      .attr(\"d\", diagonal);\r\n\r\n  // Transition exiting nodes to the parent's new position.\r\n  link.exit().transition()\r\n      .duration(duration)\r\n      .attr(\"d\", function(d) {\r\n        var o = {x: source.x, y: source.y};\r\n        return diagonal({source: o, target: o});\r\n      })\r\n      .remove();\r\n\r\n  // Stash the old positions for transition.\r\n  nodes.forEach(function(d) {\r\n    d.x0 = d.x;\r\n    d.y0 = d.y;\r\n  });\r\n}\r\n\r\n// Toggle children.\r\nfunction toggle(d) {\r\n  if (d.children) {\r\n    d._children = d.children;\r\n    d.children = null;\r\n  } else {\r\n    d.children = d._children;\r\n    d._children = null;\r\n  }\r\n}\r\n\r\n    </script>\r\n  </body>\r\n</html>\r\n"]],"start1":1286,"start2":1286,"length1":786,"length2":3620}]],"length":4906,"saved":false}
{"ts":1365014165115,"patch":[[{"diffs":[[0,"cript\" src=\""],[-1,"d"],[1,"./d3.v"],[0,"3/d3.js\"></s"]],"start1":201,"start2":201,"length1":25,"length2":30}]],"length":4911,"saved":false}
{"ts":1365014340339,"patch":[[{"diffs":[[0,"t\" src=\""],[-1,"d"],[1,"./d3.v"],[0,"3/d3.lay"]],"start1":271,"start2":271,"length1":17,"length2":22}]],"length":4916,"saved":false}
{"ts":1365014367045,"patch":[[{"diffs":[[0,"3.json(\""],[1,"./data/"],[0,"flare.js"]],"start1":1270,"start2":1270,"length1":16,"length2":23}]],"length":4923,"saved":false}
{"ts":1365014404852,"patch":[[{"diffs":[[0,"3.v3/d3."],[1,"v3."],[0,"js\"></sc"]],"start1":216,"start2":216,"length1":16,"length2":19}]],"length":4926,"saved":false}
{"ts":1365014454730,"patch":[[{"diffs":[[0,"        "],[-1,"d3.layout.tree"],[1,"vehicle cross-shop report"],[0,"\r\n      "]],"start1":644,"start2":644,"length1":30,"length2":41}]],"length":4937,"saved":false}
{"ts":1365014508121,"patch":[[{"diffs":[[0,"ata/"],[-1,"flare"],[1,"vehicles"],[0,".jso"]],"start1":1295,"start2":1295,"length1":13,"length2":16}]],"length":4940,"saved":false}
{"ts":1365014940877,"patch":[[{"diffs":[[0,"hildren["],[-1,"9"],[1,"1"],[0,"]);\r\n  t"]],"start1":1679,"start2":1679,"length1":17,"length2":17},{"diffs":[[0,"ren["],[-1,"9"],[1,"1"],[0,"].ch"]],"start1":1712,"start2":1712,"length1":9,"length2":9}]],"length":4940,"saved":false}
{"ts":1365014970329,"patch":[[{"diffs":[[0,".children[1]);\r\n"],[1,"//"],[0,"  toggle(root.ch"]],"start1":1607,"start2":1607,"length1":32,"length2":34},{"diffs":[[0,"ldren[2]);\r\n"],[1,"//"],[0,"  toggle(roo"]],"start1":1654,"start2":1654,"length1":24,"length2":26},{"diffs":[[0,"ldren[1]);\r\n"],[1,"//"],[0,"  toggle(roo"]],"start1":1685,"start2":1685,"length1":24,"length2":26}]],"length":4946,"saved":false}
{"ts":1365015002923,"patch":[[{"diffs":[[0,"eAll);\r\n"],[1,"//"],[0,"  toggle"]],"start1":1586,"start2":1586,"length1":16,"length2":18}]],"length":4948,"saved":false}
{"ts":1365015100542,"patch":[[{"diffs":[[0,"ick "],[-1,"or option-click"],[1,"the node"],[0," to "]],"start1":707,"start2":707,"length1":23,"length2":16}]],"length":4941,"saved":false}
{"ts":1365015134935,"patch":[[{"diffs":[[0,"oggleAll);\r\n"],[-1,"//"],[0,"  toggle(roo"]],"start1":1575,"start2":1575,"length1":26,"length2":24},{"diffs":[[0,"e(root.children["],[-1,"1"],[1,"0"],[0,"]);\r\n//  toggle("]],"start1":1594,"start2":1594,"length1":33,"length2":33}]],"length":4939,"saved":false}
{"contributors":[],"silentsave":false,"ts":1365016173949,"patch":[[{"diffs":[[0,"ldren[0]);\r\n"],[-1,"//"],[0,"  toggle(roo"]],"start1":1604,"start2":1604,"length1":26,"length2":24},{"diffs":[[0,"e(root.children["],[-1,"1"],[1,"0"],[0,"].children[2]);\r"]],"start1":1623,"start2":1623,"length1":33,"length2":33},{"diffs":[[0,"hildren["],[-1,"2"],[1,"0"],[0,"]);\r\n// "]],"start1":1643,"start2":1643,"length1":17,"length2":17}]],"length":4937,"saved":false}
